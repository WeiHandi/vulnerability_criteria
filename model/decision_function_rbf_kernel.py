import matplotlib.pyplot as plt
import numpy as np
import scipy.io as sio
from sklearn.svm import SVC
from sklearn.model_selection import train_test_split
import joblib
import os

current_path = os.path.dirname(__file__)
feature = np.zeros((1, 3), dtype=float)
feature[0, 0] = 0.3536  # omega_5/omega_3
feature[0, 1] = -3.1668  # (h_b-d)/R_b
feature[0, 2] = -4.4494  # x_b/(h_b-d)


feature[0, 0] = (feature[0, 0]-0.05)/1.23
feature[0, 1] = (feature[0, 1]+8.33)/7.163
feature[0, 2] = (feature[0, 2]+22.07)/19.73

model = joblib.load(current_path+"/decision_function_rbf_kernel.m")
y_output = model.predict(feature)  # 1 unstable; -1 stable
if y_output == 1:
    print('The platform is unstable')
elif y_output == -1:
    print('The platform is stable')
